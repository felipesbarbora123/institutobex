import{c as L,r as n,m as Ye,s as m,k as _,j as e,B as b,L as X,f as pe,a as Je,d as Qe,t as es,i as O,v as fe,n as te,u as ss}from"./index-DZwxJa6p.js";import{m as ge,R as ts,T as as,P as rs,W as os,n as is,o as ns,p as cs,q as je,O as ls,c as B,D as ve,d as Ne,e as we,f as ye,g as ds,r as ms,M as us,H as hs,B as xs,A as ps,F as fs}from"./Footer-C1KMTEGG.js";import{C as v,b as N,c as w,d as E,a as y}from"./card-BXzsGqNW.js";import{R as gs}from"./refresh-cw-GX1sFyo7.js";import{I as V}from"./input-DDQYHuv2.js";import{L as k}from"./label-D0JfEdvX.js";import{P as ae,S as js,a as vs,b as Ns,c as ws,d as ee}from"./select-BQTkODBU.js";import{S as se,a as ys,T as J}from"./switch-B-1j9Fhw.js";import{S as bs}from"./scroll-area-RY6zaaOo.js";import{C as Z}from"./circle-check-ByrmEm5X.js";import{C as he}from"./clock-oaySqPQl.js";import{E as _s}from"./external-link-Bd-dnFeP.js";import{s as Cs,Z as As}from"./types-CgaFKbNx.js";import{T as be,a as _e,b as Y,c as S,d as Ce,e as T,F as xe}from"./table-DPHy_kM9.js";import{R as ks}from"./ReconcilePayments-BTwTWyql.js";import{f as Ds,p as Ss}from"./pt-BR-COO1Bk_c.js";import{T as Ts,a as Es,b as W,c as z}from"./tabs-6h0c_Wcz.js";import{U as Rs}from"./users-CYgoScVk.js";import{T as Ms}from"./trending-up-R1OuXwq3.js";import"./index-BdQq_4o_.js";import"./chevron-down-BMPktge0.js";import"./chevron-up-D0sK4MUF.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=L("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=L("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=L("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=L("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=L("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=L("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=L("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=L("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zs=()=>{const[t,r]=n.useState(!1),[a,l]=n.useState({totalCourses:0,totalLessons:0,totalMaterials:0,totalEnrollments:0}),{user:p}=Ye();n.useEffect(()=>{p&&j()},[p]);const j=async()=>{try{r(!0);const{count:c,error:g}=await m.from("courses").select("*",{count:"exact",head:!0});if(g)throw g;const{count:i,error:d}=await m.from("lessons").select("*",{count:"exact",head:!0});if(d)throw d;const{count:x,error:C}=await m.from("course_materials").select("*",{count:"exact",head:!0});if(C)throw C;const{count:A,error:u}=await m.from("course_enrollments").select("*",{count:"exact",head:!0});if(u)throw u;l({totalCourses:c||0,totalLessons:i||0,totalMaterials:x||0,totalEnrollments:A||0})}catch(c){console.error("Error fetching stats:",c),_.error("Erro ao carregar estat√≠sticas")}finally{r(!1)}};return e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Gest√£o de Cursos"}),e.jsx(E,{children:"Vis√£o geral do conte√∫do da plataforma"})]}),e.jsx(b,{variant:"outline",size:"icon",onClick:j,disabled:t,children:t?e.jsx(X,{className:"h-4 w-4 animate-spin"}):e.jsx(gs,{className:"h-4 w-4"})})]})}),e.jsxs(y,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total de Cursos"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalCourses})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total de Aulas"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalLessons})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Materiais"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalMaterials})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Matr√≠culas"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalEnrollments})]})]}),a.totalCourses===0&&e.jsx("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Nenhum curso cadastrado ainda. Comece criando seu primeiro curso!"})})]})]})};var Ae="AlertDialog",[qs]=Je(Ae,[ge]),M=ge(),ke=t=>{const{__scopeAlertDialog:r,...a}=t,l=M(r);return e.jsx(ts,{...l,...a,modal:!0})};ke.displayName=Ae;var $s="AlertDialogTrigger",De=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,p=M(a);return e.jsx(as,{...p,...l,ref:r})});De.displayName=$s;var Hs="AlertDialogPortal",Se=t=>{const{__scopeAlertDialog:r,...a}=t,l=M(r);return e.jsx(rs,{...l,...a})};Se.displayName=Hs;var Bs="AlertDialogOverlay",Te=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,p=M(a);return e.jsx(ls,{...p,...l,ref:r})});Te.displayName=Bs;var q="AlertDialogContent",[Vs,Gs]=qs(q),Zs=es("AlertDialogContent"),Ee=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,children:l,...p}=t,j=M(a),c=n.useRef(null),g=pe(r,c),i=n.useRef(null);return e.jsx(os,{contentName:q,titleName:Re,docsSlug:"alert-dialog",children:e.jsx(Vs,{scope:a,cancelRef:i,children:e.jsxs(is,{role:"alertdialog",...j,...p,ref:g,onOpenAutoFocus:Qe(p.onOpenAutoFocus,d=>{var x;d.preventDefault(),(x=i.current)==null||x.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(Zs,{children:l}),e.jsx(Xs,{contentRef:c})]})})})});Ee.displayName=q;var Re="AlertDialogTitle",Me=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,p=M(a);return e.jsx(ns,{...p,...l,ref:r})});Me.displayName=Re;var Le="AlertDialogDescription",Oe=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,p=M(a);return e.jsx(cs,{...p,...l,ref:r})});Oe.displayName=Le;var Ks="AlertDialogAction",Pe=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,p=M(a);return e.jsx(je,{...p,...l,ref:r})});Pe.displayName=Ks;var Ie="AlertDialogCancel",Ue=n.forwardRef((t,r)=>{const{__scopeAlertDialog:a,...l}=t,{cancelRef:p}=Gs(Ie,a),j=M(a),c=pe(r,p);return e.jsx(je,{...j,...l,ref:c})});Ue.displayName=Ie;var Xs=({contentRef:t})=>{const r=`\`${q}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${q}\` by passing a \`${Le}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${q}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var l;document.getElementById((l=t.current)==null?void 0:l.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},Ys=ke,Js=De,Qs=Se,Fe=Te,We=Ee,ze=Pe,qe=Ue,$e=Me,He=Oe;const Be=Ys,et=Js,st=Qs,Ve=n.forwardRef(({className:t,...r},a)=>e.jsx(Fe,{className:O("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a}));Ve.displayName=Fe.displayName;const re=n.forwardRef(({className:t,...r},a)=>e.jsxs(st,{children:[e.jsx(Ve,{}),e.jsx(We,{ref:a,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));re.displayName=We.displayName;const oe=({className:t,...r})=>e.jsx("div",{className:O("flex flex-col space-y-2 text-center sm:text-left",t),...r});oe.displayName="AlertDialogHeader";const ie=({className:t,...r})=>e.jsx("div",{className:O("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});ie.displayName="AlertDialogFooter";const ne=n.forwardRef(({className:t,...r},a)=>e.jsx($e,{ref:a,className:O("text-lg font-semibold",t),...r}));ne.displayName=$e.displayName;const ce=n.forwardRef(({className:t,...r},a)=>e.jsx(He,{ref:a,className:O("text-sm text-muted-foreground",t),...r}));ce.displayName=He.displayName;const le=n.forwardRef(({className:t,...r},a)=>e.jsx(ze,{ref:a,className:O(fe(),t),...r}));le.displayName=ze.displayName;const de=n.forwardRef(({className:t,...r},a)=>e.jsx(qe,{ref:a,className:O(fe({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));de.displayName=qe.displayName;const Ge=()=>{const[t,r]=n.useState([]),[a,l]=n.useState([]),[p,j]=n.useState(!0),[c,g]=n.useState(null),[i,d]=n.useState(null),[x,C]=n.useState(null),[A,u]=n.useState(!1),{toast:f}=te(),[o,D]=n.useState({webhook_url:"",auth_token:"",event_type:"compra_confirmada",is_active:!0,whatsapp_template:"",use_whatsapp_format:!1}),[U,P]=n.useState("");n.useEffect(()=>{localStorage.setItem("webhookURL",o.webhook_url),localStorage.setItem("authToken",o.auth_token),localStorage.setItem("eventType",o.event_type),localStorage.setItem("isActive",String(o.is_active)),localStorage.setItem("isWhatsAppFormat",String(o.use_whatsapp_format)),localStorage.setItem("whatsAppTemplate",o.whatsapp_template)},[o]),n.useEffect(()=>{F(),I()},[]);const F=async()=>{try{const{data:s,error:h}=await m.from("webhook_configs").select("*").order("created_at",{ascending:!1});if(h)throw h;r(s||[])}catch(s){f({title:"Erro ao carregar webhooks",description:s.message,variant:"destructive"})}finally{j(!1)}},I=async()=>{try{const{data:s,error:h}=await m.from("webhook_logs").select("*").order("created_at",{ascending:!1}).limit(10);if(h)throw h;l(s||[])}catch(s){console.error("Erro ao carregar logs:",s)}},G=s=>{if(!s)return!1;try{const h=new URL(s);return h.protocol==="http:"||h.protocol==="https:"}catch{return!1}},$=async()=>{if(P(""),!o.webhook_url){P("Preencha a URL do Webhook para salvar."),f({title:"Erro",description:"Preencha a URL do Webhook para salvar.",variant:"destructive"});return}if(!G(o.webhook_url)){P("A URL precisa come√ßar com http:// ou https://"),f({title:"Erro",description:"A URL precisa come√ßar com http:// ou https://",variant:"destructive"});return}g("new");try{const{data:{user:s}}=await m.auth.getUser();if(!s)throw new Error("Usu√°rio n√£o autenticado");const{error:h}=await m.from("webhook_configs").insert({webhook_url:o.webhook_url,auth_token:o.auth_token||null,event_type:o.event_type,is_active:o.is_active,whatsapp_template:o.whatsapp_template||null,use_whatsapp_format:o.use_whatsapp_format,created_by:s.id});if(h)throw h;f({title:"Webhook criado!",description:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Configura√ß√µes salvas com sucesso!"})]})}),D({webhook_url:"",auth_token:"",event_type:"compra_confirmada",is_active:!0,whatsapp_template:"",use_whatsapp_format:!1}),P(""),localStorage.removeItem("webhookURL"),localStorage.removeItem("authToken"),localStorage.removeItem("eventType"),localStorage.removeItem("isActive"),localStorage.removeItem("isWhatsAppFormat"),localStorage.removeItem("whatsAppTemplate"),await F(),await I()}catch(s){f({title:"Erro ao criar webhook",description:s.message,variant:"destructive"})}finally{g(null)}},Q=async s=>{d(s.id),C(null),u(!0);try{const h={evento:"novo_usuario",usuario:"Teste Webhook",email:"teste@exemplo.com",telefone:"11999999999"},H={"Content-Type":"application/json"};s.auth_token&&(H.Authorization=`Bearer ${s.auth_token}`);const R=await fetch(s.webhook_url,{method:"POST",headers:H,body:JSON.stringify(h)}),ue=await R.text();C({success:R.ok,status:R.status,body:ue}),await m.from("webhook_logs").insert({webhook_config_id:s.id,event_type:"teste",payload:h,response_status:R.status,response_body:ue.slice(0,1e3)}),await I(),R.ok?f({title:"Teste bem-sucedido! ‚úÖ",description:`Status ${R.status} - Webhook respondeu corretamente`}):f({title:"Teste falhou",description:`Status ${R.status} - Verifique a configura√ß√£o`,variant:"destructive"})}catch(h){C({success:!1,error:h.message}),f({title:"Erro ao testar webhook",description:h.message,variant:"destructive"})}finally{d(null)}},Ze=async s=>{try{const{error:h}=await m.from("webhook_configs").update({is_active:!s.is_active}).eq("id",s.id);if(h)throw h;await F(),await I(),f({title:s.is_active?"Webhook desativado":"Webhook ativado",description:`O webhook foi ${s.is_active?"desativado":"ativado"} com sucesso`})}catch(h){f({title:"Erro",description:h.message,variant:"destructive"})}},Ke=async s=>{try{const{error:h}=await m.from("webhook_configs").delete().eq("id",s);if(h)throw h;await F(),await I(),f({title:"Webhook exclu√≠do",description:"A configura√ß√£o foi removida com sucesso"})}catch(h){f({title:"Erro ao excluir",description:h.message,variant:"destructive"})}},Xe=s=>new Date(s).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),me=s=>({compra_confirmada:"Compra Confirmada",novo_usuario:"Novo Usu√°rio",curso_concluido:"Curso Conclu√≠do"})[s]||s;return p?e.jsx(v,{children:e.jsx(y,{className:"flex justify-center items-center py-20",children:e.jsx(X,{className:"h-8 w-8 animate-spin"})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Webhook de Eventos"]}),e.jsx(E,{children:"Configure notifica√ß√µes autom√°ticas para outros servi√ßos quando eventos importantes ocorrerem"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"webhook_url",children:"URL do Webhook *"}),e.jsx(V,{id:"webhook_url",type:"url",placeholder:"https://api.exemplo.com/webhook",value:o.webhook_url,onChange:s=>{D({...o,webhook_url:s.target.value}),P("")},className:U?"border-destructive":""}),U&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx(K,{className:"h-3 w-3"}),U]}),!U&&!o.webhook_url&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Insira a URL completa come√ßando com http:// ou https://"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"auth_token",children:"Token de Autentica√ß√£o (Opcional)"}),e.jsx(V,{id:"auth_token",type:"password",placeholder:"Token Bearer para autentica√ß√£o",value:o.auth_token,onChange:s=>D({...o,auth_token:s.target.value})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ser√° enviado como: Authorization: Bearer TOKEN"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"event_type",children:"Tipo de Evento *"}),e.jsxs(js,{value:o.event_type,onValueChange:s=>D({...o,event_type:s}),children:[e.jsx(vs,{id:"event_type",children:e.jsx(Ns,{})}),e.jsxs(ws,{children:[e.jsx(ee,{value:"compra_confirmada",children:"Compra Confirmada"}),e.jsx(ee,{value:"novo_usuario",children:"Novo Usu√°rio"}),e.jsx(ee,{value:"curso_concluido",children:"Curso Conclu√≠do"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{htmlFor:"is_active",children:"Ativo"}),e.jsx(se,{id:"is_active",checked:o.is_active,onCheckedChange:s=>D({...o,is_active:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(k,{htmlFor:"use_whatsapp_format",children:"Formato WhatsApp"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Transformar payload para APIs do WhatsApp (ZAPI, Chat-API, etc)"})]}),e.jsx(se,{id:"use_whatsapp_format",checked:o.use_whatsapp_format,onCheckedChange:s=>D({...o,use_whatsapp_format:s})})]}),o.use_whatsapp_format&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"whatsapp_template",children:"Template da Mensagem WhatsApp"}),e.jsx("textarea",{id:"whatsapp_template",className:"w-full min-h-[120px] p-3 rounded-md border border-input bg-background text-sm",placeholder:"Ol√°, [USUARIO]! Seu pagamento foi confirmado para o curso [CURSO]. Acesse agora: [LINK_DO_CURSO]",value:o.whatsapp_template,onChange:s=>D({...o,whatsapp_template:s.target.value})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use placeholders: [USUARIO], [EMAIL], [TELEFONE], [CURSO], [DATA], etc."})]}),e.jsx(b,{onClick:$,disabled:c==="new"||!o.webhook_url,className:"w-full",children:c==="new"?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ys,{className:"mr-2 h-4 w-4"}),"Salvar Configura√ß√µes"]})}),!o.webhook_url&&e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Preencha a URL do Webhook para habilitar o bot√£o de salvar"})]})]}),t.length>0&&e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"Webhooks Configurados"}),e.jsxs(E,{children:[t.length," webhook",t.length!==1?"s":""," configurado",t.length!==1?"s":""]})]}),e.jsx(y,{children:e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:me(s.event_type)}),s.is_active?e.jsx(Z,{className:"h-4 w-4 text-green-500"}):e.jsx(K,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"text-sm text-muted-foreground break-all",children:s.webhook_url}),s.auth_token&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"üîí Com autentica√ß√£o"}),s.use_whatsapp_format&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"üì± Formato WhatsApp ativo"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(b,{variant:"outline",size:"sm",onClick:()=>Q(s),disabled:i===s.id,children:i===s.id?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 animate-spin mr-1"}),"Testando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"h-4 w-4 mr-1"}),"Testar"]})}),e.jsx(se,{checked:s.is_active,onCheckedChange:()=>Ze(s)}),e.jsxs(Be,{children:[e.jsx(et,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"icon",children:e.jsx(J,{className:"h-4 w-4 text-destructive"})})}),e.jsxs(re,{children:[e.jsxs(oe,{children:[e.jsx(ne,{children:"Excluir webhook?"}),e.jsx(ce,{children:"Esta a√ß√£o n√£o pode ser desfeita. O webhook ser√° removido permanentemente."})]}),e.jsxs(ie,{children:[e.jsx(de,{children:"Cancelar"}),e.jsx(le,{onClick:()=>Ke(s.id),children:"Excluir"})]})]})]})]})]},s.id))})})]}),a.length>0&&e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Hist√≥rico de Disparos"]}),e.jsx(E,{children:"√öltimos 10 disparos de webhook realizados"})]}),e.jsx(y,{children:e.jsx(bs,{className:"h-[400px]",children:e.jsx("div",{className:"space-y-3",children:a.map(s=>{const h=t.find(R=>R.id===s.webhook_config_id),H=s.response_status&&s.response_status>=200&&s.response_status<300;return e.jsx("div",{className:"flex items-start justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[H?e.jsx(Z,{className:"h-4 w-4 text-green-500"}):e.jsx(K,{className:"h-4 w-4 text-destructive"}),e.jsx("span",{className:"font-semibold",children:me(s.event_type)}),s.response_status&&e.jsx(B,{variant:H?"default":"destructive",children:s.response_status})]}),h&&e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(_s,{className:"h-3 w-3"}),h.webhook_url]}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"h-3 w-3"}),Xe(s.created_at)]})}),s.error_message&&e.jsxs("p",{className:"text-sm text-destructive mt-2",children:["‚ùå ",s.error_message]}),s.response_body&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-sm cursor-pointer text-muted-foreground hover:text-foreground",children:"Ver resposta"}),e.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-auto max-h-32",children:s.response_body})]})]})},s.id)})})})})]}),e.jsx(ve,{open:A,onOpenChange:u,children:e.jsxs(Ne,{children:[e.jsxs(we,{children:[e.jsx(ye,{children:"Resultado do Teste de Webhook"}),e.jsx(ds,{children:"Resposta recebida do servidor"})]}),x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:x.success?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-semibold text-green-600",children:"Teste bem-sucedido!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"h-5 w-5 text-destructive"}),e.jsx("span",{className:"font-semibold text-destructive",children:"Teste falhou"})]})}),x.status&&e.jsxs("div",{children:[e.jsx(k,{children:"Status HTTP"}),e.jsx(B,{variant:x.success?"default":"destructive",className:"mt-1",children:x.status})]}),x.body&&e.jsxs("div",{children:[e.jsx(k,{children:"Corpo da Resposta"}),e.jsx("pre",{className:"mt-2 text-xs bg-muted p-3 rounded overflow-auto max-h-48",children:x.body})]}),x.error&&e.jsxs("div",{children:[e.jsx(k,{children:"Erro"}),e.jsx("p",{className:"mt-2 text-sm text-destructive",children:x.error})]})]}),e.jsx(b,{onClick:()=>u(!1),className:"mt-4",children:"Fechar"})]})})]})},tt=Cs().email({message:"Email inv√°lido"}).trim().toLowerCase(),at=()=>{const[t,r]=n.useState(""),[a,l]=n.useState(!1),p=async j=>{if(j.preventDefault(),!t){_.error("Por favor, insira o email do usu√°rio");return}try{tt.parse(t)}catch(c){if(c instanceof As){_.error(c.errors[0].message);return}}l(!0);try{const{data:{user:c}}=await m.auth.getUser(),{data:g}=await m.from("pending_admins").select("email").eq("email",t.toLowerCase().trim()).maybeSingle();if(g){_.error("Este email j√° est√° na lista de administradores pendentes"),l(!1);return}const{data:i}=await m.rpc("get_user_id_by_email",{user_email:t});if(i){const{data:d}=await m.from("user_roles").select("role").eq("user_id",i).eq("role","admin").maybeSingle();if(d){_.error("Este usu√°rio j√° √© um administrador"),l(!1);return}const{error:x}=await m.from("user_roles").insert({user_id:i,role:"admin"});if(x)throw x;_.success("Usu√°rio adicionado como administrador!")}else{const{error:d}=await m.from("pending_admins").insert({email:t.toLowerCase().trim(),created_by:c==null?void 0:c.id});if(d)throw d;_.success("‚úÖ Email adicionado! Quando esta pessoa fizer login, ser√° admin automaticamente com senha padr√£o 123456")}r("")}catch(c){console.error("Error adding admin:",c),_.error("Erro ao adicionar administrador: "+c.message)}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5"}),"Adicionar Administrador"]}),e.jsx(E,{children:"Adicione emails que ter√£o privil√©gios de administrador (mesmo que ainda n√£o tenham conta). Contas ser√£o criadas automaticamente com senha padr√£o 123456."})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"admin-email",children:"Email do Usu√°rio"}),e.jsx(V,{id:"admin-email",type:"email",placeholder:"usuario@exemplo.com",value:t,onChange:j=>r(j.target.value),disabled:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o email (mesmo que a pessoa ainda n√£o tenha conta na plataforma)"})]}),e.jsx(b,{type:"submit",disabled:a,children:a?"Adicionando...":"Adicionar Admin"})]})})]}),e.jsx(Ge,{})]})},rt=()=>{const[t,r]=n.useState([]),[a,l]=n.useState(!1),[p,j]=n.useState(!1),[c,g]=n.useState({code:"",discount_percent:10}),{toast:i}=te(),d=async()=>{l(!0);const{data:u,error:f}=await m.from("coupons").select("*").order("created_at",{ascending:!1});f?i({title:"Erro ao carregar cupons",description:f.message,variant:"destructive"}):r(u||[]),l(!1)};n.useEffect(()=>{d()},[]);const x=async()=>{if(!c.code.trim()){i({title:"Erro",description:"Digite um c√≥digo para o cupom",variant:"destructive"});return}if(c.discount_percent<1||c.discount_percent>100){i({title:"Erro",description:"O desconto deve ser entre 1% e 100%",variant:"destructive"});return}const{data:{user:u}}=await m.auth.getUser();if(!u)return;const{error:f}=await m.from("coupons").insert({code:c.code.toUpperCase(),discount_percent:c.discount_percent,created_by:u.id});f?i({title:"Erro ao criar cupom",description:f.message,variant:"destructive"}):(i({title:"Cupom criado com sucesso!",description:`${c.code} - ${c.discount_percent}%`}),g({code:"",discount_percent:10}),j(!1),d())},C=async u=>{if(!confirm("Deseja realmente excluir este cupom?"))return;const{error:f}=await m.from("coupons").delete().eq("id",u);f?i({title:"Erro ao excluir cupom",description:f.message,variant:"destructive"}):(i({title:"Cupom exclu√≠do com sucesso!"}),d())},A=async(u,f)=>{const{error:o}=await m.from("coupons").update({active:!f}).eq("id",u);o?i({title:"Erro ao alterar status",description:o.message,variant:"destructive"}):(i({title:`Cupom ${f?"desativado":"ativado"} com sucesso!`}),d())};return e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Cupons de Desconto"}),e.jsx(E,{children:"Gerencie os cupons de desconto para pagamentos com cart√£o"})]}),e.jsxs(ve,{open:p,onOpenChange:j,children:[e.jsx(ms,{asChild:!0,children:e.jsxs(b,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Criar Cupom"]})}),e.jsxs(Ne,{children:[e.jsx(we,{children:e.jsx(ye,{children:"Criar Novo Cupom"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"code",children:"C√≥digo do Cupom"}),e.jsx(V,{id:"code",placeholder:"DESCONTO10",value:c.code,onChange:u=>g({...c,code:u.target.value.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"discount",children:"Percentual de Desconto (%)"}),e.jsx(V,{id:"discount",type:"number",min:"1",max:"100",value:c.discount_percent,onChange:u=>g({...c,discount_percent:parseInt(u.target.value)||10})})]}),e.jsx(b,{onClick:x,className:"w-full",children:"Criar Cupom"})]})]})]})]})}),e.jsx(y,{children:a?e.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando cupons..."}):t.length===0?e.jsx("p",{className:"text-center text-muted-foreground",children:"Nenhum cupom cadastrado"}):e.jsxs(be,{children:[e.jsx(_e,{children:e.jsxs(Y,{children:[e.jsx(S,{children:"C√≥digo"}),e.jsx(S,{children:"Desconto"}),e.jsx(S,{children:"Status"}),e.jsx(S,{children:"Criado em"}),e.jsx(S,{className:"text-right",children:"A√ß√µes"})]})}),e.jsx(Ce,{children:t.map(u=>e.jsxs(Y,{children:[e.jsx(T,{className:"font-mono font-semibold",children:u.code}),e.jsxs(T,{children:[u.discount_percent,"%"]}),e.jsx(T,{children:e.jsx(B,{variant:u.active?"default":"secondary",children:u.active?"Ativo":"Inativo"})}),e.jsx(T,{children:new Date(u.created_at).toLocaleDateString("pt-BR")}),e.jsxs(T,{className:"text-right space-x-2",children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>A(u.id,u.active),children:u.active?e.jsx(Fs,{className:"w-4 h-4 text-green-600"}):e.jsx(Us,{className:"w-4 h-4 text-gray-400"})}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>C(u.id),children:e.jsx(J,{className:"w-4 h-4 text-destructive"})})]})]},u.id))})]})})]})},ot=()=>{const[t,r]=n.useState([]),[a,l]=n.useState(!0);n.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:i,error:d}=await m.from("contact_messages").select("*").order("created_at",{ascending:!1});if(d)throw d;r(i||[])}catch{_.error("Erro ao carregar mensagens")}finally{l(!1)}},j=async i=>{try{const{error:d}=await m.from("contact_messages").update({read:!0}).eq("id",i);if(d)throw d;r(t.map(x=>x.id===i?{...x,read:!0}:x)),_.success("Mensagem marcada como lida")}catch{_.error("Erro ao atualizar mensagem")}},c=async i=>{if(confirm("Tem certeza que deseja excluir esta mensagem?"))try{const{error:d}=await m.from("contact_messages").delete().eq("id",i);if(d)throw d;r(t.filter(x=>x.id!==i)),_.success("Mensagem exclu√≠da")}catch{_.error("Erro ao excluir mensagem")}};if(a)return e.jsx("div",{className:"text-center py-8",children:"Carregando mensagens..."});if(t.length===0)return e.jsx(v,{children:e.jsxs(N,{children:[e.jsx(w,{children:"Mensagens de Contato"}),e.jsx(E,{children:"Nenhuma mensagem recebida ainda"})]})});const g=t.filter(i=>!i.read).length;return e.jsxs(v,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Mensagens de Contato"}),e.jsxs(E,{children:[t.length," mensagens (",g," n√£o lidas)"]})]}),g>0&&e.jsxs(B,{variant:"destructive",children:[g," novas"]})]})}),e.jsx(y,{children:e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsx("div",{className:`border rounded-lg p-4 ${i.read?"bg-card":"bg-primary/5 border-primary/20"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.read?e.jsx(Os,{className:"w-4 h-4 text-muted-foreground"}):e.jsx(us,{className:"w-4 h-4 text-primary"}),e.jsx("h4",{className:"font-semibold text-foreground truncate",children:i.name}),!i.read&&e.jsx(B,{variant:"default",className:"ml-auto",children:"Nova"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.email}),e.jsxs("p",{className:"text-sm font-medium text-foreground mb-2",children:["Assunto: ",i.subject]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 whitespace-pre-wrap",children:i.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Ds(new Date(i.created_at),"dd 'de' MMMM 'de' yyyy '√†s' HH:mm",{locale:Ss})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[!i.read&&e.jsx(b,{size:"sm",variant:"outline",onClick:()=>j(i.id),children:"Marcar como lida"}),e.jsx(b,{size:"sm",variant:"destructive",onClick:()=>c(i.id),children:e.jsx(J,{className:"w-4 h-4"})})]})]})},i.id))})})]})};function Dt(){const[t,r]=n.useState([]),[a,l]=n.useState({courses:0,students:0,materials:0,enrollments:0,completedLessons:0,avgCompletionRate:0}),[p,j]=n.useState(!0),[c,g]=n.useState(!1),[i,d]=n.useState(null),x=ss(),{toast:C}=te();n.useEffect(()=>{A();const o=m.channel("realtime-admin-courses").on("postgres_changes",{event:"*",schema:"public",table:"courses"},()=>A()).on("postgres_changes",{event:"*",schema:"public",table:"lessons"},()=>A()).on("postgres_changes",{event:"*",schema:"public",table:"course_materials"},()=>A()).on("postgres_changes",{event:"*",schema:"public",table:"course_enrollments"},()=>A()).subscribe();return()=>{m.removeChannel(o)}},[]);const A=async()=>{j(!0);const{data:o,error:D}=await m.from("courses").select("id, title, category, instructor_name, duration_hours, created_at").order("created_at",{ascending:!1});D?C({title:"Erro ao carregar cursos",description:D.message,variant:"destructive"}):r(o||[]);const{count:U}=await m.from("courses").select("*",{count:"exact",head:!0}),{count:P}=await m.from("profiles").select("*",{count:"exact",head:!0}),{count:F}=await m.from("course_materials").select("*",{count:"exact",head:!0}),{count:I}=await m.from("course_enrollments").select("*",{count:"exact",head:!0}),{count:G}=await m.from("lesson_progress").select("*",{count:"exact",head:!0}).eq("completed",!0),{count:$}=await m.from("lesson_progress").select("*",{count:"exact",head:!0}),Q=$&&$>0?Math.round((G||0)/$*100):0;l({courses:U||0,students:P||0,materials:F||0,enrollments:I||0,completedLessons:G||0,avgCompletionRate:Q}),j(!1)},u=async()=>{if(!i)return;const{error:o}=await m.from("courses").delete().eq("id",i);o?C({title:"Erro ao excluir curso",description:o.message,variant:"destructive"}):(C({title:"Curso exclu√≠do",description:"O curso foi removido com sucesso"}),A()),g(!1),d(null)},f=o=>{d(o),g(!0)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(hs,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Painel Administrativo"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie cursos, cupons, webhooks e conte√∫dos"})]}),e.jsxs(b,{onClick:()=>x("/admin/curso/novo"),children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Criar Novo Curso"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Total de Cursos"}),e.jsx(xs,{className:"h-4 w-4 text-primary"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:a.courses}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Cursos ativos"})]})]}),e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Alunos"}),e.jsx(Rs,{className:"h-4 w-4 text-secondary"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold text-secondary",children:a.students}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usu√°rios registrados"})]})]}),e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Matr√≠culas"}),e.jsx(Ls,{className:"h-4 w-4 text-accent"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold text-accent",children:a.enrollments}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Matr√≠culas ativas"})]})]}),e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Materiais"}),e.jsx(xe,{className:"h-4 w-4 text-primary"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.materials}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recursos dispon√≠veis"})]})]}),e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Aulas Completas"}),e.jsx(ps,{className:"h-4 w-4 text-secondary"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.completedLessons}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Progresso total"})]})]}),e.jsxs(v,{className:"hover:shadow-hover transition-all",children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(w,{className:"text-sm font-medium",children:"Taxa de Conclus√£o"}),e.jsx(Ms,{className:"h-4 w-4 text-accent"})]}),e.jsxs(y,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.avgCompletionRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"M√©dia de conclus√£o"})]})]})]}),e.jsx("div",{className:"mb-8 flex gap-4 flex-wrap",children:e.jsxs(b,{variant:"outline",onClick:()=>x("/admin/logs"),className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"}),"Ver Logs do Sistema"]})}),e.jsx("div",{className:"mb-8",children:e.jsx(at,{})}),e.jsxs(Ts,{defaultValue:"courses",className:"space-y-4",children:[e.jsxs(Es,{className:"grid w-full grid-cols-6",children:[e.jsx(W,{value:"courses",children:"Cursos"}),e.jsx(W,{value:"coupons",children:"Cupons"}),e.jsx(W,{value:"webhooks",children:"Webhooks"}),e.jsx(W,{value:"reconcile",children:"Reconciliar"}),e.jsx(W,{value:"contact",children:"Mensagens"}),e.jsx(W,{value:"certificate",children:"Certificado"})]}),e.jsx(z,{value:"courses",children:e.jsx(zs,{})}),e.jsx(z,{value:"coupons",children:e.jsx(rt,{})}),e.jsx(z,{value:"webhooks",children:e.jsx(Ge,{})}),e.jsx(z,{value:"reconcile",children:e.jsx(ks,{})}),e.jsx(z,{value:"contact",children:e.jsx(ot,{})}),e.jsx(z,{value:"certificate",children:e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"Configura√ß√£o de Certificados"}),e.jsx(E,{children:"Configure os modelos de certificados individualmente em cada curso"})]}),e.jsx(y,{children:e.jsx("p",{className:"text-muted-foreground",children:"Acesse cada curso individualmente para configurar seu certificado personalizado."})})]})})]}),e.jsxs(v,{className:"mt-8",children:[e.jsxs(N,{children:[e.jsx(w,{children:"Cursos Cadastrados"}),e.jsx(E,{children:"Visualize e gerencie todos os cursos da plataforma"})]}),e.jsx(y,{children:p?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):t.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum curso cadastrado ainda"}):e.jsxs(be,{children:[e.jsx(_e,{children:e.jsxs(Y,{children:[e.jsx(S,{children:"T√≠tulo"}),e.jsx(S,{children:"Categoria"}),e.jsx(S,{children:"Instrutor"}),e.jsx(S,{children:"Dura√ß√£o"}),e.jsx(S,{className:"text-right",children:"A√ß√µes"})]})}),e.jsx(Ce,{children:t.map(o=>e.jsxs(Y,{children:[e.jsx(T,{className:"font-medium",children:o.title}),e.jsx(T,{children:o.category||"-"}),e.jsx(T,{children:o.instructor_name}),e.jsxs(T,{children:[o.duration_hours,"h"]}),e.jsx(T,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{variant:"ghost",size:"icon",onClick:()=>x(`/admin/curso/${o.id}`),children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(b,{variant:"ghost",size:"icon",onClick:()=>f(o.id),children:e.jsx(J,{className:"w-4 h-4 text-destructive"})})]})})]},o.id))})]})})]}),e.jsx(Be,{open:c,onOpenChange:g,children:e.jsxs(re,{children:[e.jsxs(oe,{children:[e.jsx(ne,{children:"Confirmar exclus√£o"}),e.jsx(ce,{children:"Tem certeza que deseja excluir este curso? Esta a√ß√£o n√£o pode ser desfeita e todos os dados relacionados (aulas, materiais, matr√≠culas) ser√£o perdidos."})]}),e.jsxs(ie,{children:[e.jsx(de,{children:"Cancelar"}),e.jsx(le,{onClick:u,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]}),e.jsx(fs,{})]})}export{Dt as default};
